使用 FFmpeg 提取视频中的声音（音频）有多种方式，具体取决于是否需要转换格式或保留原始编码。以下是常用命令示例：

---

### 1. **提取音频并保留原始编码（不重新编码）**
```bash
ffmpeg -i 输入视频.mp4 -vn -acodec copy 输出音频.aac
```
- **`-vn`**：禁用视频流
- **`-acodec copy`**：直接复制音频流（无损且快速）
- **输出格式**：根据原视频音频格式选择后缀（如 `.aac`、`.mp3`、`.m4a`）

---

### 2. **转换为 MP3 格式（重新编码）**
```bash
ffmpeg -i 输入视频.mp4 -vn -acodec libmp3lame -q:a 0 输出音频.mp3
```
- **`-acodec libmp3lame`**：使用 MP3 编码器
- **`-q:a 0`**：最高质量（VBR 模式，范围 `0-9`，值越小质量越高）

---

### 3. **提取为无损 WAV 格式**
```bash
ffmpeg -i 输入视频.mp4 -vn -acodec pcm_s16le -ar 44100 -ac 2 输出音频.wav
```
- **`-acodec pcm_s16le`**：16-bit PCM 编码（无损）
- **`-ar 44100`**：采样率 44.1kHz
- **`-ac 2`**：立体声（双声道）

---

### 4. **提取特定音频流（多音轨时）**
```bash
ffmpeg -i 输入视频.mkv -vn -map 0:a:1 -acodec copy 输出音频.aac
```
- **`-map 0:a:1`**：选择第 2 个音频流（索引从 0 开始）

---

### 5. **仅提取音频时间段**
```bash
ffmpeg -i 输入视频.mp4 -vn -ss 00:01:30 -t 10 -acodec copy 输出片段.aac
```
- **`-ss 00:01:30`**：从 1 分 30 秒开始
- **`-t 10`**：提取 10 秒时长

---

### 关键参数说明：
| 参数                 | 作用                   |
| -------------------- | ---------------------- |
| `-i input.mp4`       | 指定输入文件           |
| `-vn`                | 忽略视频流             |
| `-acodec copy`       | 复制原始音频（不转码） |
| `-acodec libmp3lame` | 转码为 MP3             |
| `-q:a 0`             | MP3 质量（0=最高）     |
| `-map 0:a:0`         | 选择第 1 个音频流      |
| `-ss HH:MM:SS`       | 设置开始时间           |
| `-t SECONDS`         | 设置持续时间           |

---

### 常见问题：
1. **格式兼容性**：  
   若使用 `-acodec copy`，输出后缀需匹配原始编码（e.g., AAC 用 `.aac` 或 `.m4a`）。
   
2. **查看音轨信息**：  
   ```bash
   ffmpeg -i 输入视频.mp4
   ```
   输出中的 `Stream #0:a` 即音频流信息。

3. **批量提取**（结合 Bash）：  
   ```bash
   for f in *.mp4; do ffmpeg -i "$f" -vn "${f%.mp4}.mp3"; done
   ```

> 根据需求选择命令，优先使用 `-acodec copy` 以保持音质和速度，需要转换格式时再指定编码器。